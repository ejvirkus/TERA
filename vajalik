import csv
import folium
import webbrowser

class GPSPlotter:
    def __init__(self, csv_file):
        self.csv_file = csv_file
        self.map = folium.Map(location=[0, 0], zoom_start=2, tiles='Stamen Terrain')

    def plot_from_csv(self):
        with open(self.csv_file, 'r') as file:
            reader = csv.DictReader(file)
            for row in reader:
                latitude = float(row['latitude'])
                longitude = float(row['longitude'])
                folium.Marker([latitude, longitude], popup='GPS Location').add_to(self.map)

        # Save the map to an HTML file
        map_file_path = 'gps_map.html'
        self.map.save(map_file_path)

        # Open the HTML file in the default web browser
        webbrowser.open(map_file_path)

def main():
    csv_file = 'gps_data.csv'  # Update this to your CSV file path
    gps_plotter = GPSPlotter(csv_file)
    gps_plotter.plot_from_csv()

if __name__ == '__main__':
    main()
